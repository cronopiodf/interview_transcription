(english below)
### ¿Para qué sirve este proyecto?

Combina Whisper de Open IA y PyAnnote con la finalidad de hacer transcripciones y diarizaciones (identificación de hablantes) de entrevistas en procesos de investigación cualitativa. **Trabaja con entorno de ejecución GPU en Google Colab.**

Genera los siguientes archivos en la carpeta "audio_transcripción": 
1. archivo de audio way (audio.wav) #necesario para que PyAnnote trabaje
2. archivo trancripcion.json 
3. archivo transcripción_subtitulo.srt (se puede subir mientras se reproduce el audio para verificar transcripción)
4. Transcripción_pura.txt (toda la trancripción que hace whisper)
5. Identificación_hablantes.txt (cominación de la trancripción con la diarización)


### Requiere generar token en hugging-face

- Aceptar preferencias: https://hf.co/pyannote/segmentation-3.0
- Aceptar preferencias: https://huggingface.co/pyannote/speaker-diarization-3.1

- Generar token en: https://huggingface.co/settings/tokens

### En entorno Google Colab Instalar lo siguiente (https://colab.research.google.com)

```python
pip install pyannote.audio
```
```python
pip install --upgrade pyannote.audio
```
```python
pip install git+https://github.com/openai/whisper.git
```
```python
pip install --upgrade --no-deps --force-reinstall git+https://github.com/openai/whisper.git
```
```python
pip install ffmpeg
```
```python
!pip install pydub
```
```python
pip install setuptools-rust
```
```python
!pip install torch
```
```python
pip install torchaudio
```
```python
!pip install soundfile
```
```python
import locale

locale.getpreferredencoding = lambda: 'UTF-8'

!pip install librosa
```
#### FINALMENTE CLONAR DESDE GIT-HUB y ejecutar
```python
!git clone https://github.com/cronopiodf/interview_transcription.git
```
```python
%cd interview_transcription
```
```python
from interview_transcription import transcripcion_entrevistas
```

### Autoría

Este proyecto ha sido generado por David Añazco @cronopiodf bajo el proyecto de investigación: *Sustainable Educational Leadership in Ecuador: Research-Practice Partnerships for Leadership Policy and Practices in Secondary  Schools* que forma parte de su proceso de investigación doctoral PhD en la Universidad Católica de Lovaina.

##### Nota
Los archivos que genera este proyecto no son definitivos, se pueden entender como borradores para un proceso de pulida final de la trancripción y posterior análisis en proyectos de investigación.


### What is this project for?

It combines OpenAI's Whisper and PyAnnote with the aim of creating transcriptions and speaker diarization (speaker identification) for interviews in qualitative research processes. **It works with a GPU runtime environment on Google Colab.**

The following files are generated in the "audio_transcription" folder: 
1. audio.wav file (necessary for PyAnnote to work)
2. transcription.json file 
3. transcription_subtitle.srt file (can be uploaded while playing the audio to verify the transcription)
4. pure_transcription.txt file (the full transcription generated by Whisper)
5. speaker_identification.txt file (combination of the transcription and speaker diarization)

### Requires generating a token on Hugging Face

- Accept preferences: https://hf.co/pyannote/segmentation-3.0
- Accept preferences: https://huggingface.co/pyannote/speaker-diarization-3.1

- Generate a token here: https://huggingface.co/settings/tokens

### Install the following in Google Colab environment (https://colab.research.google.com)

```python
pip install pyannote.audio
```
```python
pip install --upgrade pyannote.audio
```
```python
pip install git+https://github.com/openai/whisper.git
```
```python
pip install --upgrade --no-deps --force-reinstall git+https://github.com/openai/whisper.git
```
```python
pip install ffmpeg
```
```python
!pip install pydub
```
```python
pip install setuptools-rust
```
```python
!pip install torch
```
```python
pip install torchaudio
```
```python
!pip install soundfile
```
```python
import locale

locale.getpreferredencoding = lambda: 'UTF-8'

!pip install librosa
```
#### FINALLY, CLONE FROM GIT-HUB AND RUN
```python
!git clone https://github.com/cronopiodf/interview_transcription.git
```
```python
%cd interview_transcription
```
```python
from interview_transcription import transcripcion_entrevistas
```

### Authorship

This project was created by David Añazco @cronopiodf as part of the research project *Sustainable Educational Leadership in Ecuador: Research-Practice Partnerships for Leadership Policy and Practices in Secondary Schools*, which is part of his PhD research process at the Catholic University of Louvain.

##### Note
The files generated by this project are not final and should be considered drafts for the final refinement of the transcription and subsequent analysis in research projects.

